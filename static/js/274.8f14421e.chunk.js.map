{"version":3,"file":"static/js/274.8f14421e.chunk.js","mappings":"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","sources":["api/api.js","webpack://react-homework-template/./src/components/MoviesDetails.module.css?248e","components/MoviesDetails.jsx"],"sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/';\naxios.defaults.params = {\n  api_key: '0649efc971b913d6bfebf656f94b5c92',\n  language: 'en-US',\n};\n\nexport const getAllMoviesTrending = async () => {\n  const { data } = await axios(`3/trending/movie/day`, {\n    // params: {\n    //   api_key: '0649efc971b913d6bfebf656f94b5c92',\n    //   language: 'en-US',\n    // },\n  });\n  console.log(data);\n  return data;\n};\n\nexport const getMoviesTrending = async moveId => {\n  const { data } = await axios(`3/movie/${moveId}`, {});\n  console.log(data);\n  return data;\n};\n\nexport const getCast = async moveId => {\n  const { data } = await axios(`3/movie/${moveId}/credits`);\n  console.log('Cast=', data);\n  return data;\n};\n\nexport const getReviews = async moveId => {\n  const { data } = await axios(`3/movie/${moveId}/reviews`);\n  console.log('Reviews =', data);\n  return data;\n};\n\n// ('https://api.themoviedb.org/3/search/movie?query=Jack+Reacher&api_key=0649efc971b913d6bfebf656f94b5c92');\n\nexport const getAllMovies = async value => {\n  const { data } = await axios(`3/search/movie`, {\n    params: {\n      // api_key: '0649efc971b913d6bfebf656f94b5c92',\n      // // language: 'en-US',\n      // original_language: 'en-US',\n      // query: `Jack + Reacher`,\n      query: `${value}`,\n    },\n  });\n  // console.log(value);\n  console.log('getAllMovies=>>', data);\n  return data;\n};\n\nexport default getAllMovies;\n","// extracted by mini-css-extract-plugin\nexport default {\"divGoBack\":\"MoviesDetails_divGoBack__NYjGe\",\"GoBack\":\"MoviesDetails_GoBack__rXay-\",\"divDetails\":\"MoviesDetails_divDetails__MRggn\",\"listCast\":\"MoviesDetails_listCast__8uDxb\",\"title\":\"MoviesDetails_title__sF6b5\"};","import React, { useState, useEffect, Suspense } from \"react\";\nimport { useParams, Link, Outlet, useLocation } from \"react-router-dom\";\nimport { getMoviesTrending } from \"../api/api\";\nimport css from \"./MoviesDetails.module.css\";\nconst MoviesDetails = () => {\n  const { moveId } = useParams();\n  // console.log(\"moveId=\", moveId);\n\n  const [title, setTitle] = useState(null);\n  const [poster_path, setPoster_path] = useState(null);\n  const [release_date, setRelease_date] = useState(null);\n  const [overview, setOverview] = useState(null);\n  const [vote_average, setVote_average] = useState(null);\n  const [genres, setGenres] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  const location = useLocation();\n\n  const fetchMovies = async () => {\n    try {\n      const {\n        poster_path,\n        title,\n        overview,\n        release_date,\n        vote_average,\n        genres,\n      } = await getMoviesTrending(moveId);\n      setTitle(title);\n      setPoster_path(poster_path);\n      setRelease_date(release_date.slice(0, 4));\n\n      setOverview(overview);\n      setVote_average(Math.round(vote_average * 10));\n      setGenres((prevGenres) => [...genres]);\n\n      // console.log(poster_path);\n      // console.log(title);\n      // console.log(release_date);\n    } catch (err) {\n      setError(error.message);\n    }\n  };\n  // console.log(movies);\n  useEffect(() => {\n    fetchMovies();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [moveId]);\n\n  // console.log(location);\n  return (\n    <div className={css.divGoBack}>\n      <Link\n        className={css.GoBack}\n        to={location.state?.from ?? \"/movies\"}\n        // to={location.state && location.state?.from ? location.state.from : \"/\"}\n      >\n        Go back\n      </Link>\n\n      {/* <Link to={location.state?.from ??'/movies'}> Go back</Link> */}\n      <div className={css.divDetails}>\n        <img\n          className=\"center-block img-responsive\"\n          width=\"240px\"\n          src={`https://image.tmdb.org/t/p/w500/${poster_path}`}\n          alt={title}\n          data-reactid=\".1.1.0.0.1.0.0.0\"\n          key=\"movie-poster\"\n        />\n        <div>\n          <h2>{`${title}(${release_date})`}</h2>\n          <p>User Score:{` ${vote_average}%`}</p>\n          <h3>Overview</h3>\n          <>{overview}</>\n          <h3>Genres</h3>\n          {genres.map((genre, index) => {\n            return <p key={index}>{genre.name} </p>;\n          })}\n        </div>\n      </div>\n      <div>\n        <p className={css.title}>Additional information</p>\n        <ul className={css.listCast}>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n        <Suspense fallback={<div>Laoding...</div>}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </div>\n  );\n};\nexport default MoviesDetails;\n"],"names":["axios","api_key","language","getAllMoviesTrending","data","console","log","getMoviesTrending","moveId","getCast","getReviews","getAllMovies","value","params","query","useParams","useState","title","setTitle","poster_path","setPoster_path","release_date","setRelease_date","overview","setOverview","vote_average","setVote_average","genres","setGenres","error","setError","location","useLocation","fetchMovies","slice","Math","round","prevGenres","message","useEffect","className","css","to","state","from","width","src","alt","map","genre","index","name","Suspense","fallback"],"sourceRoot":""}